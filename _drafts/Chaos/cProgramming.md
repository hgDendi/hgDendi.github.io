#C Programming

###常量
    #define PRICE 30

###进制
	八进制以0开头
	十六进制以0x开头

###浮点数
	5.6896e+003
	浮点数结构为  数符 | 小数部分 | 指数部分

###转义字符
	\n  	换行
	\t  	水平制表
	\b		退格
	\r		回车，将当前位置移到本行开头
	\f		换页，将当前位置换到下页开头
	\\		\
	\'		'
	\"		"
	\ddd	1到3位八进制数所代表的的字符
	\xhh	1到2位十六进制数代表的字符

###char
	以ASCII码的形式存储在内存单元中
	占一个字节（Java中是两个），所以只能表示0~255
	大小写字母之间差值为32
###字符串常量
	以字符'\0'结尾

###变量初始化
	int a = 3;
	初始化不是在编译阶段完成的，只有静态存储变量和外部变量的初始化是在编译阶段完成的。
	而是在程序运行时执行本函数时赋初值的。

###格式字符
	d		十进制整数
		%md		m为数据的宽度，若数据位数小于m左端补空格，若大于m按实际位数输出
		%ld		长整形
	o		八进制
	x		十六进制
	u		unsigned
	c		一个字符
	s		字符串
		%ms
		%-ms		字符串靠左，右补空格（不加-则是靠右）
		%m.ns	输出m列，但只取字符串中左端n个字符
	f		实数
		%m.nf	数据m列，小数n位
	e		指数形式如1.23e+06
		%m.ne	n为输出数据的尾数的小数尾数
	g		实数，自动根据数值选择e或f

###goto
万不得已不要使用
	loop: if(i<=100){
			//do something
			go to loop;
		}

###函数的调用
	
- 被调用的函数必须是已存在的函数
- 如果使用库函数需要#include
- 如果使用自定义的函数，而该函数的位置在调用它的函数的后面，应该在主调函数中对被调用的函数做声明

###变量的作用域
- 全局变量的有效范围为从定义变量的位置开始到本源文件结束
- 如果全局变量与局部变量冲突，则会屏蔽外部变量

不要过分依赖全局变量：
- 全局变量在程序的全部执行过程中都占用存储单元；
- 使函数的通用性降低了，因为函数依赖全局变量，当函数移动到另外的文件中，还要将有关的外部变量及其值移动过去；
- 会降低程序的清晰值

###变量的存储类别
- 程序区
- 静态存储区：
	- 全局变量，在程序执行过程中占据固定的存储单元，而不是动态的进行分配和释放
	- 静态的局部变量
- 动态存储区： 
	- 函数形式参数
	- 自动变量
	- 函数调用时的现场保护和返回机制
- 寄存器：
	- register修饰符修饰的局部变量

###数据存储类别
- auto
	- 局部变量默认为自动存储类别，在函数调用结束时自动释放这些存储空间
- static
	- 局部变量
		- 函数中的局部变量的值在函数调用结束后不消失而保留原值，不释放其占用的存储单元
		- 这样下次函数调用时，该变量已有值，为上次函数调用结束时的值
		- 编译时赋初值
	- 外部变量
		- 表示只限于被本文件使用，而不能被其他文件使用
		- 为程序的模块化、通用性提供方便
	- 函数
		- 内部函数，使函数的作用域只局限于所在文件，在不同的文件中有同名的内部函数，互不干扰
- register
	- 将局部变量的值放到寄存器中，可以提高执行效率
	- 只有局部变量和形式参数可以作为寄存器变量
	- 不能同时用static 和 register修饰
- extern
	- 外部变量
		- 该变量是一个已经定义的外部变量，使该声明起可以合法的使用外部变量
	- 关联其他文件中的变量
		- 表明这个变量是一个已经在其他文件中定义过的外部变量，不必再为其分配内存
	- 外部函数
		- 可以为其他文件调用
		- 允许在声明函数时省去

###字符串处理函数
- puts(字符数组)
	- 将一个字符串输出到终端
- gets()
	- 从终端获得一个输入字符串
- strcat(str1,str2)
	- 连接两个字符数组中的字符串，函数返回字符数组1的地址
- strcpy(str1,str2)
	- 将字符串2赋值到字符串1中
- strncpy(str1,str2,n)
	- 将字符串str2中最前面的n个字符复制到str1中，但不应多余str1中原有的字符
- strcmp(str1,str2)
	- 相同返回0
	- 1大为正
- strlen(str)
	- 返回字符串长度，不包括'\0'
- strlwr(str)
	- 将字符串中大写字母换成小写字母
- strupr(str)
	- 将字符创中小写字母换成大写字母

###预处理
C语言包括预处理、编译和连接.

预处理只是文本替换，并不会做语法检查

- 宏定义
	- 可以在宏定义中引用已被定义的宏
	- 可以带参数 #define S(a,b) a*b,注意宏名与参数之间不能带空格 
- 文件包含
- 条件编译
	- #ifdef\#else\#endif
	- #ifndef\#endif
- #和##
	- #表示把宏参数变为一个字符串
	- ##表示把两个宏参数连接在一起
	- #define g(a) #a  //g(abc)  abc
	- #define f(a,b) a##b //f(1,2) 12
- 内置宏
	- _LINE_
	- _FILE_
	- _DATE_
	- _TIME_
	- _STDC_

###指针和数组
C语言规定数组名代表数组中首元素的地址,下面两句等价

    p = &a[0];
	p = a;

实际上在编译时，a[i]就是按照*(a+i)进行编译的
p++表示将p指向下一个元素

当a[]数组作为方法的形式参数传入时，默认传入指针

    f(int arr[],int n)
	f(int *arr,int n)//等价

注意二维数组a[][]

    *(a[0]+1) //a[0][1]
	*(a+1)	  //a[1][0]

###指向函数的指针

    int max(int,int);
	//注意int *p(int,int)是返回指针的函数
	int (*p)(int,int);
	//将函数max的入口赋值给指针变量p，函数名代表该函数的入口地址
	p = max;	
	int c = (*P)(a,b);

牛逼闪闪，将指向函数的指针作为函数参数
如果每次调用sub函数时，要调用的函数不是固定的，这是用指针变量就比较方便了。

    void sub(int (*p1)(int) , int (*p2)(int)){
		int a,b,i,j;
		a = (*p1)(i);//调用p1函数
		b = (*p2)(j);
	}
应用场景：

    int max(int,int);
	int min(int,int);

	//可根据p确定process的策略
	void process(int,int,int (*p)(int,int));

###字符数组

    int *p[4];

- 相比二维数组不需要指定列数
- 排序时不需要改变字符串的位置，只需改变指针数组中各元素的指向

###结构体
    struct student{
		int num;
		char name[20];
	};
	struct student student1 = {101,"Liming"};
	student1.num //访问num

###开辟和释放存储单元
- malloc函数
	- void *malloc(unsigned int size);
	- 在内存的动态存储区中分配一个长度为size的连续空间。返回一个指向分配域起始地址的指针；分配不成功返回NULL
- calloc函数
	- void *calloc(unsigned n,unsigned size)
	- 在内存的动态存储区中分配n个长度为size的连续空间。
- free函数
	- void free(void* p)
	- 释放由p指向的内存区，使这部分内存区能被其他变量使用
	
###共用体
    union data{
	int i;
	char ch;
	}

- 长度为最长的成员的长度
- 可用于struct嵌套

        struct{
			char job;
			union{
				int classroom;
				int office;
			}category;
		}
    
###枚举类型
    enum weekday{sun,mon,tue,thes,wed,thur,fri,sat}

- 对枚举元素按常量处理，所以称为枚举常量
- 枚举元素作为常量，是有值的
- 一个整数不能直接赋给一个枚举常量

    enum weekday workday;
    workday = 2;//error
    workday = (enum weekday)2;

###别名
别名步骤：

- 按定义变量的方法写出定义体	(int n[100])

- 将变量名n换成新类型名		(int NUM[100])

- 在前面加入typedef			(trpedef int NUM[100])

- 可以进行变量的定义			(NUM n)

###异或运算符^
- 与1111XOR ，进行翻转
- 与0 XOR ， 保留原值
- 交换两个值

    a = a^b;
    b = b^a;
    a = a^b;

###文件的打开与关闭
    FILE *fp;
	fp = fopen(文件名，使用方式);//错误返回0
	//如fp = fopen("a1","r");
	//使用方式有r w a后面加b（二进制文件） +（可读写）修饰

	fclose(fp);//当顺利执行返回0 否则返回-1(EOF)
	//因为缓冲区的存在不关闭容易使数据丢失在缓冲区

	fputc(ch,fp);
	ch = fgetc(fp);
	
	feof(fp);
	//测试fp指向的文件状态是否为结束状态
	//文件结束，返回1，否则返回0

	fread(buffer,size,count,fp);
	fwrite(buffer,size,count,fp);
	//buffer是读入数据的存放地址/输出数据的地址
	//size是要读写的字节数
	//count是要读写多少个size字节的数据项

	fprintf(文件指针，格式字符串，输出表列);
	fscanf(文件指针，格式字符串，输入表列);

	putw(word,fp);
	getw(fp)//读写一个字（整数）

	fgets(str,n,fp);//返回str的首地址
	fputs(str,fp);

	rewind(fp);//将位置指针定义回头部
	fseek(fp,位移量,起始点);//改变文件的位置指针
	ftell(fp);//得到流式文件中的当前位置，用相对于文件开头的位移量表示，出错返回-1L

	ferror(fp) //返回0为未出错
	clearerr(fp)//清理出错信息

	